<%- include('../../shared/includes/head.ejs',{pageTitle:'Add New Product'})  %>
<link href="/styles/forms.css" rel="stylesheet">
<script src="/script/image-preview.js" defer></script>
</head>
<body>
    <%- include("../../shared/includes/header.ejs") %>
    <main>
        <h1>Add new Product</h1>
        <form action="/admin/products?_csrf=<%= locals.csrfToken %>" method="POST" enctype="multipart/form-data"> <!-- enctype: sent file (binary data) not url but multer sent to the server http(url) -->
            <p>
                <label for="title">Title</label>
                <input type="text" name="title" id="title" required>
            </p>
            <div id="image-uploud-control">
             <p>
                <label for="image">Image</label>
                <input type="file" name="image" id="image" accept="image/png ,image/jpg">
            </p>
             <img src="" alt="Selected Image">
            </div>
             <p>
                <label for="summary">Summary</label>
                <input type="text" name="summary" id="summary" required maxlength="250">
            </p>
             <p>
                <label for="price">Price</label>
                <input type="number" name="price" id="price" min="0.01" step="0.01" required >
            </p>
            <p>
                <label for="description">Description</label>
                <textarea  name="description" id="description" rows="7" required ></textarea>
            </p>
            <p>
                <button type="reset" class="btn btn-alt">Reset</button>
                <button class="btn">Sive</button>
            </p>
        </form>
    </main>
    <%- include('../../shared/includes/footer.ejs') %>